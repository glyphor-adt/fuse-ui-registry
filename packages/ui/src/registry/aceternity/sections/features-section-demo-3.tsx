"use client";

import * as React from "react";
import { motion } from "motion/react";

import { cn } from "../../_shared/cn";
import type { RegistryItemMeta } from "../../types";

export const aceternityFeaturesSectionDemo3Meta: RegistryItemMeta = {
	provider: "aceternity",
	kind: "section",
	id: "aceternity/section/features-section-demo-3",
	name: "features-section-demo-3",
	title: "Features Section Demo 3",
	categories: ["features"],
	tags: ["grid", "skeleton", "motion"],
	source: {
		registryUrl: "https://ui.aceternity.com/registry/features-section-demo-3.json",
		docsUrl: "https://ui.aceternity.com/components/features-section-demo-3",
	},
	dependencies: {
		npm: ["motion"],
	},
};

type Feature = {
	title: string;
	description: string;
	skeleton: React.ReactNode;
	className?: string;
};

export function FeaturesSectionDemo3(): JSX.Element {
	const features: Feature[] = [
		{
			title: "Track issues effectively",
			description: "Track and manage your project issues with ease using our intuitive interface.",
			skeleton: <SkeletonOne />, 
			className: "col-span-1 lg:col-span-4 border-b lg:border-r dark:border-neutral-800",
		},
		{
			title: "Capture pictures with AI",
			description: "Capture stunning photos effortlessly using our advanced AI technology.",
			skeleton: <SkeletonTwo />,
			className: "border-b col-span-1 lg:col-span-2 dark:border-neutral-800",
		},
		{
			title: "Watch our AI on YouTube",
			description: "Get to know about our product with quick video walkthroughs.",
			skeleton: <SkeletonThree />,
			className: "col-span-1 lg:col-span-3 lg:border-r dark:border-neutral-800",
		},
		{
			title: "Deploy in seconds",
			description: "Ship fast with a simple deploy flow and realtime status.",
			skeleton: <SkeletonFour />,
			className: "col-span-1 lg:col-span-3 border-b lg:border-none",
		},
	];

	return (
		<div className="relative z-20 mx-auto max-w-7xl py-10 lg:py-40">
			<div className="px-8">
				<h4 className="mx-auto max-w-5xl text-center text-3xl font-medium tracking-tight text-black lg:text-5xl lg:leading-tight dark:text-white">
					Packed with thousands of features
				</h4>
				<p className="mx-auto my-4 max-w-2xl text-center text-sm font-normal text-neutral-500 dark:text-neutral-300 lg:text-base">
					From image generation to video generation, Everything AI has APIs for literally everything.
				</p>
			</div>

			<div className="relative">
				<div className="mt-12 grid grid-cols-1 rounded-md xl:border dark:border-neutral-800 lg:grid-cols-6">
					{features.map((feature) => (
						<FeatureCard key={feature.title} className={feature.className}>
							<FeatureTitle>{feature.title}</FeatureTitle>
							<FeatureDescription>{feature.description}</FeatureDescription>
							<div className="h-full w-full">{feature.skeleton}</div>
						</FeatureCard>
					))}
				</div>
			</div>
		</div>
	);
}

function FeatureCard({ children, className }: { children?: React.ReactNode; className?: string }): JSX.Element {
	return <div className={cn("relative overflow-hidden p-4 sm:p-8", className)}>{children}</div>;
}

function FeatureTitle({ children }: { children?: React.ReactNode }): JSX.Element {
	return (
		<p className="mx-auto max-w-5xl text-left text-xl tracking-tight text-black md:text-2xl md:leading-snug dark:text-white">
			{children}
		</p>
	);
}

function FeatureDescription({ children }: { children?: React.ReactNode }): JSX.Element {
	return (
		<p
			className={cn(
				"mx-auto my-2 max-w-sm text-left text-sm font-normal text-neutral-500 dark:text-neutral-300"
			)}
		>
			{children}
		</p>
	);
}

function SkeletonOne(): JSX.Element {
	return (
		<div className="relative flex h-full gap-10 px-2 py-8">
			<div className="group mx-auto h-full w-full bg-white p-5 shadow-2xl dark:bg-neutral-900">
				<div className="flex h-full w-full flex-1 flex-col space-y-2">
					<img
						src="https://assets.aceternity.com/linear.webp"
						alt="header"
						width={800}
						height={800}
						className="aspect-square h-full w-full rounded-sm object-cover object-left-top"
					/>
				</div>
			</div>
			<div className="pointer-events-none absolute inset-x-0 bottom-0 z-40 h-60 w-full bg-gradient-to-t from-white via-white to-transparent dark:from-black dark:via-black" />
			<div className="pointer-events-none absolute inset-x-0 top-0 z-40 h-60 w-full bg-gradient-to-b from-white via-transparent to-transparent dark:from-black" />
		</div>
	);
}

function SkeletonTwo(): JSX.Element {
	const images = [
		"https://images.unsplash.com/photo-1517322048600-4fba75cbbb62?q=80&w=3000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
		"https://images.unsplash.com/photo-1573790387438-4da905039392?q=80&w=3425&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
		"https://images.unsplash.com/photo-1555400038-63f5ba517a47?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
		"https://images.unsplash.com/photo-1554931670-4ebfabf6e7a9?q=80&w=3387&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
		"https://images.unsplash.com/photo-1546484475-7f7bd55792da?q=80&w=2581&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
	];

	const rotations = [-8, 6, -4, 10, -6];
	return (
		<div className="relative flex h-full flex-col items-start gap-10 overflow-hidden p-8">
			<div className="-ml-20 flex flex-row">
				{images.map((image, idx) => (
					<motion.div
						key={`images-first-${idx}`}
						whileHover={{ scale: 1.1, rotate: 0, zIndex: 100 }}
						whileTap={{ scale: 1.1, rotate: 0, zIndex: 100 }}
						style={{ rotate: rotations[idx % rotations.length] }}
						className="-mr-4 mt-4 shrink-0 overflow-hidden rounded-xl border border-neutral-100 bg-white p-1 dark:border-neutral-700 dark:bg-neutral-800"
					>
						<img
							src={image}
							alt="bali images"
							width={500}
							height={500}
							className="h-20 w-20 shrink-0 rounded-lg object-cover md:h-40 md:w-40"
						/>
					</motion.div>
				))}
			</div>
			<div className="flex flex-row">
				{images.map((image, idx) => (
					<motion.div
						key={`images-second-${idx}`}
						whileHover={{ scale: 1.1, rotate: 0, zIndex: 100 }}
						whileTap={{ scale: 1.1, rotate: 0, zIndex: 100 }}
						style={{ rotate: rotations[(idx + 2) % rotations.length] }}
						className="-mr-4 mt-4 shrink-0 overflow-hidden rounded-xl border border-neutral-100 bg-white p-1 dark:border-neutral-700 dark:bg-neutral-800"
					>
						<img
							src={image}
							alt="bali images"
							width={500}
							height={500}
							className="h-20 w-20 shrink-0 rounded-lg object-cover md:h-40 md:w-40"
						/>
					</motion.div>
				))}
			</div>

			<div className="pointer-events-none absolute inset-y-0 left-0 z-[100] h-full w-20 bg-gradient-to-r from-white to-transparent dark:from-black" />
			<div className="pointer-events-none absolute inset-y-0 right-0 z-[100] h-full w-20 bg-gradient-to-l from-white to-transparent dark:from-black" />
		</div>
	);
}

function SkeletonThree(): JSX.Element {
	return (
		<a
			href="https://www.youtube.com/watch?v=RPa3_AD1_Vs"
			target="__blank"
			className="group/image relative flex h-full gap-10"
		>
			<div className="group h-full w-full bg-transparent dark:bg-transparent">
				<div className="relative flex h-full w-full flex-1 flex-col space-y-2">
					<div className="absolute inset-0 z-10 m-auto flex h-20 w-20 items-center justify-center rounded-full bg-red-500/90 text-white shadow">
						<svg viewBox="0 0 24 24" fill="currentColor" className="h-10 w-10">
							<path d="M10 8.5v7l6-3.5-6-3.5z" />
						</svg>
					</div>
					<img
						src="https://assets.aceternity.com/fireship.jpg"
						alt="header"
						width={800}
						height={800}
						className="aspect-square h-full w-full rounded-sm object-cover object-center blur-none transition-all duration-200 group-hover/image:blur-md"
					/>
				</div>
			</div>
		</a>
	);
}

function SkeletonFour(): JSX.Element {
	return (
		<div className="relative mt-10 flex h-60 flex-col items-center bg-transparent dark:bg-transparent md:h-60">
			<Globe className="absolute -bottom-72 -right-10 md:-bottom-72 md:-right-10" />
		</div>
	);
}

function Globe({ className }: { className?: string }): JSX.Element {
	return (
		<div
			className={cn(
				"h-[320px] w-[320px] rounded-full bg-gradient-to-br from-neutral-200 via-white to-neutral-200 shadow-[0_0_0_1px_rgba(0,0,0,0.08)] dark:from-neutral-900 dark:via-neutral-800 dark:to-neutral-900",
				className
			)}
		>
			<motion.div
				animate={{ rotate: 360 }}
				transition={{ duration: 20, repeat: Infinity, ease: "linear" }}
				className="h-full w-full rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(59,130,246,0.25),transparent_60%)]"
			/>
		</div>
	);
}
